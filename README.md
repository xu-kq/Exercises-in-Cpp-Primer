# Exercises-in-Cpp-Primer
A loose collection of interesting Exercises in the book..

## 三/五法则
- 需要析构函数的类也需要拷贝和赋值函数

```
HasPtr::~HasPtr() {}
```
若只自定义析构函数，而使用**合成版本**的**拷贝构造函数**与**拷贝赋值函数**，`ret`与`hp`将指向同一个块内存而被delete两次。

```
HasPtr f(HasPtr hp){
    HasPtr ret = hp;
    return return;
}
```
- 需要拷贝构造函数的类也需要拷贝赋值函数，反之亦然

## 拷贝控制和资源管理
> **拷贝赋值运算符：**
> 
> 编写赋值运算符时，铭记以下两点：
> - 必须在将一个对象赋予其自身的情形下，依旧正常工作
> - 大多数赋值运算符，事实上组合了析构函数和拷贝构造函数的工作。
> 
> 一个好的范式是，先将右侧运算对象拷贝到一个局部的临时对象中。当拷贝完成后，销毁左侧对象的现有成员就是安全的了。之后再将资源从临时对象拷贝到左侧运算对象的成员中。